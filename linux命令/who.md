# who

--

## 简介

`who`命令是显示目前登录系统的用户信息.

## 语法

```
who(选项)(参数)
```

## 输出

```
[root@iZ94ebqp9jtZ ~]# who
root     pts/0        2018-04-10 13:50 (1.80.139.114)
root     pts/4        2018-04-10 11:40 (1.80.139.114)
```

* 第一列: 显示用户名称.
* 第二列: 显示用户连接方式.
	* `tty`: 用户直接连接到电脑上.
	* `pts`: 用户远程登录.
* 第三, 四列分别显示日期和实践.
* 第五列显示用户登录IP地址.

## 选项

### `-b` 显示上一次重新启动的时间和日期.

```
[root@iZ94ebqp9jtZ ~]# who -b
         system boot  2017-12-15 18:09
```

### `-r` 显示初始化进程的当前运行级别

```
[root@iZ94ebqp9jtZ ~]# who -r
         run-level 3  2017-12-15 10:10
```

输出显示2017年12月21日, 上午10:10系统以级别3开始运行.

### `-H` 选项为每一列添加标题

```
[root@iZ94ebqp9jtZ ~]# who -H
NAME     LINE         TIME             COMMENT
root     pts/0        2018-04-10 13:50 (1.80.139.114)
```

### `-m` 只打印当前运行终端的相关信息

```
[root@iZ94ebqp9jtZ ~]# who -m
root     pts/0        2018-04-10 13:50 (1.80.139.114)
```

### `-q` 对当前登录用户数量计数

```
[root@iZ94ebqp9jtZ ~]# who -q
root tom
# users=2
```

### `-u` 附加空闲时间和PID信息

默认情况下, `who`命令不会打印空闲时间和PID信息. 如果打算显示这些信息, 使用`-u`选项. 使用`-H`选项让显示的信息更加简单易读.

```
[root@iZ94ebqp9jtZ ~]# who -u -H
NAME     LINE         TIME             IDLE          PID COMMENT
root     pts/0        2018-04-10 13:50   .         18067 (1.80.139.114)
tom      pts/1        2018-04-10 13:58 00:01       18141 (1.80.139.114)
```

**空闲时间**包含了最近最后一次活动以来消逝的时间(`IDLE`栏), `00:01`意思是用户tom已经1分钟没有执行过命令了.`.`符号是指该终端过去的一分钟有过活动. 在那期间我们称之为`current`. `PID`是用户`shell`程序的进程ID号.

如果我们在这里`kill`掉对方的`PID`(shell程序的进程ID号), 则对方退出登录.

### `-l`显示登录进程

```
[root@iZ94ebqp9jtZ ~]# who -l
LOGIN    tty1         2017-12-15 10:09               433 id=tty1
```

### `-a`显示所有信息

```
[root@iZ94ebqp9jtZ ~]# who -a
           system boot  2017-12-15 18:09
LOGIN      tty1         2017-12-15 10:09               433 id=tty1
           run-level 3  2017-12-15 10:10
root     + pts/0        2018-04-10 13:50   .         18067 (1.80.139.114)
           pts/1        2018-04-10 14:01             18141 id=ts/1  term=0 exit=0
           pts/2        2018-04-10 13:34             17842 id=ts/2  term=0 exit=0
           pts/3        2018-04-10 13:42             17901 id=ts/3  term=0 exit=0
           pts/4        2018-04-10 13:51             17926 id=ts/4  term=0 exit=0
```