#1 C语言入门

---

###C语言的工作方式


**计算机只理解一种语言**

机器代码,即一串二进制0,1流

**C语言的工作方式**

在`编译器`的帮助下,将`C代码`转化为`机器代码`.

1. 源代码(原文件中是供人阅读的C代码)
2. 编译(编译源代码)
3. 输出(输出一个可执行的文件,文件中是机器代码,即计算机能理解的0,1流)

**如何运行程序?**

C语言是一种`编译型语言`.需要`编译器`编译代码.将给人阅读的源代码转化(或编译)为契机能够理解的机器代码。

`GNU`编译套件(GNU Compiler Collection),也可以叫做`gcc`.

		gcc 文件.c -o 输出文件
		
**gcc**

* `前端`:能够将语言转化为一种中间代码,所有的语言前端能够生成同一种代码.
* `后端`:一个将中间代码转化为多种平台的机器代码的系统,每种操作系统都有自己特定的可执行文件格式.
* `翻译`,`检查明显的错误`,`优化性能(发现虚幻中的某段代码提到循环外面执行时也一样正确,会移动它)`


###主函数

**main()函数**

main()函数是程序中对所有代码的起点,计算机慧聪main()函数开始运行程序.

main()函数的`返回类型`是`int`.

		int main(){}

**为什么main()函数返回int类型**

1. 计算机运行程序时,它需要一些方法来`判断程序是否运行成功`.
2. 通过`检查main()函数的返回值`来做到这一点.
3. 如果main()函数`返回0`,表名程序运行成功.反之,返回`其他值`,就表示程序在运行时出了问题.

类似在 linux 或 mac 终端输入: 

		echo $?
	
###字符串理论

**C语言不支持现成的字符串**

C语言比其他大多数语言的`抽象层次更低`,因此它不提供字符串(string),而是用了相似的东西来代替:`以字符为元素的数组`(char[]).


举例:

当C语言看到一个这样的`字符串`:

		s = "Shatner"
		
会把它`当做一个数组来读取`,而这个数组是是有一个个独立的字符组成:

		s = {'S','h','a','t','n','e','r'}

可以`通过索引来引用字符串中的某个字符`:
		
		s[0],s[1]
		
**哨兵字符**

如今的很多语言中,计算机会时刻记录数组的大小.但`C语言比大多数的语言更低层`,它`无法确切的知道数组有多长`,C语言为了知道什么时候会到达字符数组的尾部,为此C语言加入了`哨兵字符`.

哨兵字符是一个出现在`字符串末尾`的附加字符,值为`\0`.(\0是ASCII字符,它的值为0.C程序员通常叫它空(NULL)字符)

每当计算机需要读取字符串的内容时,它会`逐一扫描字符数组中的所有元素`,直到`碰到\0`.

* 计算机看到下面这个字符串时:

		s = "Shatner"

* 存储器中实际保存的是:

		S h a t n e r \0
			
定义`字符串数组`需要多`定义一个`,放置哨兵字符.

###FAQ

**为什么字符要从0开始编号?为什么不是1**

字符的索引值是一个`偏移量`:它表示当前要引用的这个字符到数组中第一个字符之间有多少字符.(注意是偏移量)

**为什么这么做**

因为计算机在存储器中以`连续字节的形式保存字符`,并`利用索引计算出字符在存储器中的位置`.

		如果计算机直到c[0]位于存储器1 000 000号单元,那么就可以很快地计算出c[96]在1 000 000 + 96号单元.
		
**单,双引号的区别**

`单引号`通常用来表示`单个字符`,而`双引号`通常用来表示`字符串`.

**应该用双引号(")定义字符串,还是以显示字符数组的形式来定义字符串**

用双引号定义的字符串叫`字符串字面值`(string literal),

		s = "Shatner"
		
比起`字符数组`,它输入起来也更方便

		s = {'S','h','a','t','n','e','r'}
		
唯一的`区别`是,字符串字面值是`常量`.

**字符串一旦创建完毕,就不能在修改它们**

如果修改了,`gcc`通常会显示`总线错误`(bus error).`总线错误`意味着程序无法更新那一块存储器空间.

###布尔运算

C语言中,`布尔值`是用`数字`表示的.

* 数字0代表假的值.
* 任何`不等于0`的数字都将被当成真处理.

**6 & 4 = 4**

当对6(二进制数110)和4(二进制数100)的每个二进制位`布尔与`时,就会得到4(二进制数100).

###常用语句

		if else
		
		do while
		
		while
		
		switch
		
		for(n=1; n<max; n++)

**break**

`break`语句直接退出`当前`循环,降低代码的可读性.

break`可以`退出`循环语句`和`switch语句`,break`不能`从`if语句中退出`.

**countinue**

`continue`跳过循环体的`其余`部分,然后回到循环的开始.

随时跳到`循环条件处`.

**链式赋值**

`赋值表达式也有返回值`.

		x = 4;
		
		把数字4赋值给变量. "x = 4"本身也是一个值,这个值是4.
		
需要给多个变量赋相同值的代码

		y = x = 4
		
等号左边的叫做`左值`,等号右边的叫做`右值`,赋值规则是将`右值赋值给左值`.
