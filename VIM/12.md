# 12 按模式匹配及按原义匹配

---

## 调整查找模式的大小写敏感性

### 全局设置大小写敏感性

```
:set ic(ignorecase 的缩写) 忽略大小写
:set noic(noignorecase 的缩写) 不忽略大小写 
```

### 每次查找时设置大小写敏感性

```
/\CWord 区分大小写的查找
/\cword 不区分大小写的查找 
```

`\c`和`\C`可以出现在模式的任意位置.

### smartcase

如果设置了`smartcase`:

* 在查找模式中输入了大写字母, `ignorecase`设置就不再生效了.
* 在查找模式中全是由小写字母组成的, 就会按照忽略大小写的方式进行查找.

### 按正则表达式查找时, 使用 模式开关

`\v`假定除了`_`,大小写字母以及数字0到9之外的所有字符都具有特殊含义.

### 按原义查找文本时, 使用 原义开关

**消除附加在`.`,`*`以及`?`等大多数字符上的特殊含义**.

`\V`会使得其后的模式中只有反斜杠有特殊的意义.

### 使用圆括号捕获子匹配

```
I love Paris in the
the springtime.

:/\v<(\w+)\_s+\1>
```
使用`/\v<(\w+)\_s+\1>`即可匹配到重复的`the the`.(`\_s`会匹配空白符或换行符)

**在于`()`与`\1`的组合使用**.

任何圆括号内部的匹配文本都会被自动保存到一个**临时的仓库**. 我们可以用**\1**引用这段被捕获的文本. 如果模式中包含不止一组圆括号, 则可以用**\1,\2,直到\9**, 引用被每对**()**捕获的子匹配. 另外, 不论模式中是否使用了**圆括号**, 元字符**\0**永远会引用整个匹配.

**在圆括号前面加上%, 指示Vim不要将括号内的内容赋给寄存器 \1**

```

:/\v%(And|D)rew Neil
```

### 界定单词的边界

`the`出现在`these`,`they`这些词中间. 如果我们想单独匹配一个.

```
these they their the

:/\v<the>
```

可以只匹配`the`这一个词.

**在very magic搜索模式下, 用 <与> 符号表示单词定界符**.


**`*`**和**`g*`**

`*`用于**正向**查找光标下的单词.

`g*`不使用单词定界符, 执行类似查找.

**`#`**和**`g#`**

`#`用于**反向**查找光标下的单词.

`g#`不使用单词定界符, 执行类似查找.

### 界定匹配的边界

元字符**\zs**标志着一个匹配的开始.

元字符**\ze**则用来界定匹配的结束.

```

:/A\zsB
```

这样只有紧跟着`A`后的`B`才会被匹配到.

### 转义问题字符

使用`escape`函数.