#VIM 常用操作命令

---

#### 基本命令

##### 插入类

**`i`**

在光标签插入.

**`I`**

到行首插入.

**`a`**

在光标后插入.

**`A`**

在行尾插入.

**`s`**

删除字符并插入.

**`S`**

删除行并插入.

##### 修改类

**`cj`**

修改下一个字符. 等同于`s`.

**`C or c$`**

修改当前行上光标后面的部分.进入编辑状态

**`c0 or c^`**

表示从光标处到当前行行首的部分进行修改,^代表首个非空格处.

**`cc or S`**

修改当前行.进入编辑状态.

**`cw`**

从光标所在的位置开始到该`单词结束`进行修改.进入编辑状态.

**`cfx AND cFx`**

这里的 x 为一任意字符.

* cfx 表示修改从光标到`下`一个字符 x 之间的文本.
* cFx 表示修改从光标到`上`一个字符 x 之间的文本.

**`cn|`**

修改从光标到当前行的第 n 个字符间的所有字符, n 正整数.

**`cnG and cG`**

这里的 n 为一任意自然数.

* cnG 表示修改当前行到第 n 行之间的所有行.
* cG 表示修改当前行直至末行.

##### 查询

`f`和`t`的区别只是光标停留的地方不一样.

**`fx`**

在行内搜索`x`字母.且光标停在x上.

**`Fx`**

在行内反向搜索`x`字母.且光标停在x上.

**`tx`**

在当前行内搜索`x`,光标停在前一个`x`的前一个字符上面.且光标停在x前.

**`Tx`**

在当前行内反向搜索`x`,光标停在前一个`x`的前一个字符上面.且光标停在x后.

**`;`**

在相同方向重复上一个搜索命令.

**`,`**

在相反方向重复上一个搜索命令.

**`*`**

搜索当前光标所在的词，相当于对当前词进行`/搜索`,比如,光标停在词google内的任何字符上,那么`*命令就相当于/google`.

##### 换行类

**`o`**

在当前光标下行分段.

**`O`**

在当前光标上行分段.

##### 删除类

**`x`**

删除光标当前字符.

**`dd`**

删除当前行.

##### 缩进类

**`>G`**

增加从当前航到文档末尾处的层级缩进.

按照`>`同时安装`G`,可以进行缩进.

可以在执行一次以后按`.`重复执行.

**`<G`**

反方向缩进.

可以在执行一次以后按`.`重复执行.

**`n==`**

表示自动缩进从当前行起的下面n行. `n`是自然数.

直接按`==`表示对当前行缩进.u

##### 重复 和 回退

**`.`**

重复上次命令.

从进入插入模式的那一刻起(例如,输入`i`),直到返回普通模式时为止(输入`<ESC>`),Vim会记录每一个按键操作.作出这样的修改后再用`.`可以重复执行.

**修改**

* 重复 `.`
* 回退 `u`

**在行内查找`下`一个指定字符**

`f{char}/t{char}`

* 重复 `;`
* 回退 `,`

**在行内查找`上`一个指定字符**

`F{char}/T{char}`

* 重复 `;`
* 回退 `,`

**在文档中查找`下`一处匹配项**

`/pattern<回车>`

* 重复 `n`
* 回退 `N`

**在文档中查找`上`一处匹配项**

`?pattern<回车>`

* 重复 `n`
* 回退 `N`

**执行替换**

`:s/target/replacement<回车>`

* 重复 `&`
* 回退 `u`

**执行一系列修改**

`qx{changes}q`

* 重复 `@x`
* 回退 `u`

#### 宏

**`qx` `q` `@x`**

首先按`qx`,会提示开始记录宏. 录制完成后按`q`,退出记录模式.

`@x`播放记录在x寄存器中的宏命令

		(按qx) ddsssadasd (esc, 按q)
		(按@x,播放上次的记录) ddsssadasd (按@x,播放上次的记录) ddsssadasd

#### 刷新加载文件

**`e!`**

手动重新加载文件

#### 示例

**在行尾添加`;`**

1. `A`到行尾处添加
2. `;`添加分号
3. `<ESC>`回到命令模式

如果要修改其他行可以移动到其他行,然后按`.`重复添加`;`的命令.

**指定多行删除**

VI中的多行删除与复制
法一：
单行删除，：1（待删除行）d
多行删除 ，：1,10d

**批量添加注释**

在10 - 20行添加 // 注释

		:10,20s#^#//#g
		
在10 - 20行删除 // 注释

		:10,20s#^//##g
		
在10 - 20行添加 # 注释

		:10,20s/^/#/g
		
在10 - 20行删除 # 注释

		:10,20s/^/#/g
		

**多行复制**

复制`9-15`行, 黏贴到`16`行.

		:9，15 copy 16  或 :9，15 co 16
		
**多行剪切**

剪切`9-15`行, 黏贴到`16`行.

		:9，15 move 16  或 :9，15 m 16
		
**批量查找**

		:vimgrep /搜索内容/*
		
* `:cnext(:cn)`         下一个匹配位置
* `:cprevious(:cp)`     上一个匹配位置
* `:cwindow(:cw)`     	 quickfix窗口，可以选择匹配的文件位置
* `:cl(:clist)`         查看所有匹配的位置

**快捷操作文件**

		:new 文件名.后缀 新建文件
		
		:e 文件名 打开文件
		
		:w 文件名 保存文件
		
		:wq	保存呢并推出
		
		:x 退出, 如果文件更改则保存
		
**自动折行**

		:set wrap 设置自动折行
		:set nowrap 设置不自动折行