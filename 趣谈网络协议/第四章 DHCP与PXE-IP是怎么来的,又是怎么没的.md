# 第四章 ifconfig: 最熟悉又陌生的命令行

## Liunx发包逻辑

Linux首先会判断, 要去的这个地址和我是一个网段的吗, 或者和我的一个网卡是同一网段的吗? 只有是一个网段的, 它才会发送`ARP`请求, 获取`MAC`地址.

**Linux默认的逻辑是**, 如果这是一个跨网段的调用, 它便不会直接将包发送到网络上, 而是企图将包发送到网关.

## DHCP

Dynamic Host Configuration Protocol. 动态主机配置协议.

网络管理员配置一段共享的`IP`地址. 每一台新接入的机器都通过`DHCP`协议, 来这个共享的`IP`地址里申请, 然后自动配置好就可以了. 等人走了, 或者用完了, 还回去, 这样其他的机器也能用.

数据中心里面的服务器, IP一旦配置好, 基本不会变, 这就相当于买房自己装修. `DHCP`的方式就相当于租房. 你不用装修, 都是帮你配置好的. 暂时用一下, 用完退租就可以了.

### DHCP的工作方式

#### DHCP Discover
