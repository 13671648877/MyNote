# 27_03_nfs服务

---

### 笔记

---

#### NFS

Network File System

文件系统工作在内核空间.

文件系统是以模块工作在内核空间.

任何程序可以执行的命令都工作在用户空间,比如格式化`mke2fs`是工作在用户空间的文件系统管理工具.

`NFS`工作在内核空间.

**文件系统**

磁盘空间存储数据,为了方便有效管理,将磁盘空间映射为一个软件结构.

内核里面如`ext3`,在磁盘空间划分为:

* 元数据空间
	* 非文件内容相关信息
	* 用于管理磁盘分区
* 数据空间

数据空间会划分成存储数据的磁盘块, 但是该磁盘块不会真正划分到磁盘上,而是由`元数据空间`维护的一张映射表.

**nfs**

可以通过网络来工作.

一个主机的目录`/mydata/data`挂载一个设备,而该设备不在本机上,在另外一台主机上.即挂载远程主机的设备.

`/mydata/data` --> REMOTEHOST:/var/ftp

用户的应用程序往该目录写数据时,会通过网络发送到另外一台主机,另外一台主机会写入自己磁盘.

客户端像访问本地设备一样访问远程设备.

**文件系统写数据**

用户往文件系统写数据,能够实现对硬件操作的只有内核.内核对硬件的操作功能是通过==系统调用==输出的.

* read() 内核函数,函数调用,过程调用
* write() 内核函数,函数调用,过程调用

本地的应用程序实现一些操作都是通过==本地过程调用(local procedure call)==实现的,



### 整理知识点

---