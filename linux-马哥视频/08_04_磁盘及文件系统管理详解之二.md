#08_04 磁盘及文件系统管理详解之二

###笔记

---

**设备文件**

* `快设备`. 按`块为单位`,`随机`访问的设备.
* `字符设备`. 按`字符为单位`,`线性`设备.
* `硬盘`
* `键盘`

设备文件都在`/dev/`目录下.

每一个设备都有`2`个数字,`不占用`磁盘空间,设备号存储在`inode`中:

* `主`设备号(major number):标识设备`类型`
* `次`设备号(minor number):表示`同一种`类型中`不同`设备

**硬盘设备的设备文件名**

* IDE,ATA: `hd`
* SATA: `sd`
* SCSI: `sd`
* USB: `sd`

		IDE:
			第一个IDE口: 主,从
				/dev/hda, /dev/hdb
			第二个IDE口: 主,从
				/dev/hdc, /dev/hdd
			
		a,b,c... 来区别同一种类型下的不同设备

**hda**

* hda1: 第一个`主`分区
* hda2
* hda3
* hda4
* hda5: 第一个`逻辑`分区.逻辑分区只能从`5`开始(扩展分区的分区叫逻辑分区)

**查看当前系统识别了几块硬盘**

`fdisk -l`

**格式化**

* `低级`格式化: 创建磁道(厂商默认做)
* `高级`格式化: 创建文件系统

**VFS**

Virtual File System.

各种程序统一通过`vfs`(类似翻译官)调用`不同`文件系统的命令.

每一个分区都是独立的文件系统.最终都要`"挂载"`在`根`下.

**管理磁盘分区**

`fdisk` `路径`:

* `p`: 显示当前硬件的分区,包括没保存的改动
* `n`: 创建新分区
	* `e`: 扩展分区
	* `p`: 主分区
* `d`: 删除一个分区
* `w`: 保存退出
* `q`: 不保存退出
* `t`: 修改分区类型
* `l`: 显示所支持的所有类型

内核读取分区在 `/proc/partitions`, `partprobe`命令用于更新上述文件

		$ cat /proc/partions
		
		major minor #blocks	  name
		8		16	244198584 sdb
		8		17	   204800 sdb1
		...

###整理知识点

---